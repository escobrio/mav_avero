// allocation_matrix.row(0) << k_f*pwm_1*(1.0*std::sin(phi_1_1)*std::cos(phi_1_2) + 1.0*std::sin(phi_1_1) + 1.41421356237309*std::sin(phi_1_2)*std::cos(phi_1_1)), k_f*pwm_2*(-0.5*std::sin(phi_2_1)*std::cos(phi_2_2) - 0.5*std::sin(phi_2_1) - 0.707106781186547*std::sin(phi_2_2)*std::cos(phi_2_1) - 0.866025403784438*std::cos(phi_2_2) + 0.866025403784439), k_f*pwm_3*(-0.5*std::sin(phi_3_1)*std::cos(phi_3_2) - 0.5*std::sin(phi_3_1) - 0.707106781186547*std::sin(phi_3_2)*std::cos(phi_3_1) + 0.866025403784438*std::cos(phi_3_2) - 0.866025403784439), k_f*std::pow(pwm_1,2)*(-0.707106781186547*std::sin(phi_1_1)*std::sin(phi_1_2) + 0.5*std::cos(phi_1_1)*std::cos(phi_1_2) + 0.5*std::cos(phi_1_1)), k_f*std::pow(pwm_1,2)*(-0.5*std::sin(phi_1_1)*std::sin(phi_1_2) + 0.707106781186547*std::cos(phi_1_1)*std::cos(phi_1_2)), k_f*std::pow(pwm_2,2)*(0.353553390593274*std::sin(phi_2_1)*std::sin(phi_2_2) - 0.25*std::cos(phi_2_1)*std::cos(phi_2_2) - 0.25*std::cos(phi_2_1)), k_f*std::pow(pwm_2,2)*(0.25*std::sin(phi_2_1)*std::sin(phi_2_2) + 0.433012701892219*std::sin(phi_2_2) - 0.353553390593274*std::cos(phi_2_1)*std::cos(phi_2_2)), k_f*std::pow(pwm_3,2)*(0.353553390593274*std::sin(phi_3_1)*std::sin(phi_3_2) - 0.25*std::cos(phi_3_1)*std::cos(phi_3_2) - 0.25*std::cos(phi_3_1)), k_f*std::pow(pwm_3,2)*(0.25*std::sin(phi_3_1)*std::sin(phi_3_2) - 0.433012701892219*std::sin(phi_3_2) - 0.353553390593274*std::cos(phi_3_1)*std::cos(phi_3_2));
//         allocation_matrix.row(1) << k_f*pwm_1*(1.0*std::cos(phi_1_2) - 1.0), k_f*pwm_2*(0.866025403784439*std::sin(phi_2_1)*std::cos(phi_2_2) + 0.866025403784439*std::sin(phi_2_1) + 1.22474487139159*std::sin(phi_2_2)*std::cos(phi_2_1) - 0.5*std::cos(phi_2_2) + 0.5), k_f*pwm_3*(-0.866025403784439*std::sin(phi_3_1)*std::cos(phi_3_2) - 0.866025403784439*std::sin(phi_3_1) - 1.22474487139159*std::sin(phi_3_2)*std::cos(phi_3_1) - 0.5*std::cos(phi_3_2) + 0.5), 0, -0.5*k_f*std::pow(pwm_1,2)*std::sin(phi_1_2), k_f*std::pow(pwm_2,2)*(-0.612372435695794*std::sin(phi_2_1)*std::sin(phi_2_2) + 0.433012701892219*std::cos(phi_2_1)*std::cos(phi_2_2) + 0.433012701892219*std::cos(phi_2_1)), k_f*std::pow(pwm_2,2)*(-0.433012701892219*std::sin(phi_2_1)*std::sin(phi_2_2) + 0.25*std::sin(phi_2_2) + 0.612372435695794*std::cos(phi_2_1)*std::cos(phi_2_2)), k_f*std::pow(pwm_3,2)*(0.612372435695794*std::sin(phi_3_1)*std::sin(phi_3_2) - 0.433012701892219*std::cos(phi_3_1)*std::cos(phi_3_2) - 0.433012701892219*std::cos(phi_3_1)), k_f*std::pow(pwm_3,2)*(0.433012701892219*std::sin(phi_3_1)*std::sin(phi_3_2) + 0.25*std::sin(phi_3_2) - 0.612372435695794*std::cos(phi_3_1)*std::cos(phi_3_2)); 
//         allocation_matrix.row(2) << k_f*pwm_1*(1.41421356237309*std::sin(phi_1_1)*std::sin(phi_1_2) - 1.0*std::cos(phi_1_1)*std::cos(phi_1_2) - 1.0*std::cos(phi_1_1)), k_f*pwm_2*(1.41421356237309*std::sin(phi_2_1)*std::sin(phi_2_2) - 1.0*std::cos(phi_2_1)*std::cos(phi_2_2) - 1.0*std::cos(phi_2_1)), k_f*pwm_3*(1.41421356237309*std::sin(phi_3_1)*std::sin(phi_3_2) - 1.0*std::cos(phi_3_1)*std::cos(phi_3_2) - 1.0*std::cos(phi_3_1)), k_f*std::pow(pwm_1,2)*(0.5*std::sin(phi_1_1)*std::cos(phi_1_2) + 0.5*std::sin(phi_1_1) + 0.707106781186547*std::sin(phi_1_2)*std::cos(phi_1_1)), k_f*std::pow(pwm_1,2)*(0.707106781186547*std::sin(phi_1_1)*std::cos(phi_1_2) + 0.5*std::sin(phi_1_2)*std::cos(phi_1_1)), k_f*std::pow(pwm_2,2)*(0.5*std::sin(phi_2_1)*std::cos(phi_2_2) + 0.5*std::sin(phi_2_1) + 0.707106781186547*std::sin(phi_2_2)*std::cos(phi_2_1)), k_f*std::pow(pwm_2,2)*(0.707106781186547*std::sin(phi_2_1)*std::cos(phi_2_2) + 0.5*std::sin(phi_2_2)*std::cos(phi_2_1)), k_f*std::pow(pwm_3,2)*(0.5*std::sin(phi_3_1)*std::cos(phi_3_2) + 0.5*std::sin(phi_3_1) + 0.707106781186547*std::sin(phi_3_2)*std::cos(phi_3_1)), k_f*std::pow(pwm_3,2)*(0.707106781186547*std::sin(phi_3_1)*std::cos(phi_3_2) + 0.5*std::sin(phi_3_2)*std::cos(phi_3_1));
//         allocation_matrix.row(3) << k_f*pwm_1*(0.0833101350462922*std::sin(phi_1_1)*std::sin(phi_1_2) - 0.0368956*std::cos(phi_1_1)*std::cos(phi_1_2) - 0.0809227228656005*std::cos(phi_1_1)), k_f*pwm_2*(1.38777878078145e-17*std::sin(phi_2_1)*stdLLpow(std::sin(phi_2_2),2)*std::cos(phi_2_1) + 0.356086274354612*std::sin(phi_2_1)*std::sin(phi_2_2) + 0.0269609964658858*std::sin(phi_2_2) - 0.2627978*std::cos(phi_2_1)*std::cos(phi_2_2) - 0.2407842385672*std::cos(phi_2_1)), k_f*pwm_3*(-1.38777878078145e-17*std::sin(phi_3_1)*std::pow(std::sin(phi_3_2),2)*std::cos(phi_3_1) - 0.439396550822261*std::sin(phi_3_1)*std::sin(phi_3_2) - 0.0269609964658858*std::sin(phi_3_2) + 0.2996935*std::cos(phi_3_1)*std::cos(phi_3_2) + 0.3217070614328*std::cos(phi_3_1)), k_f*std::pow(pwm_1,2)*(0.0184478*std::sin(phi_1_1)*std::cos(phi_1_2) + 0.0404613614328003*std::sin(phi_1_1) + 0.0416550675231461*std::sin(phi_1_2)*std::cos(phi_1_1)), k_f*std::pow(pwm_1,2)*(0.0416550675231461*std::sin(phi_1_1)*std::cos(phi_1_2) + 0.0184478*std::sin(phi_1_2)*std::cos(phi_1_1)), k_f*std::pow(pwm_2,2)*(-1.38777878078145e-17*std::pow(std::sin(phi_2_1),2)*std::pow(std::sin(phi_2_2),2) + 0.1313989*std::sin(phi_2_1)*std::cos(phi_2_2) + 0.1203921192836*std::sin(phi_2_1) + 6.93889390390723e-18*std::pow(std::sin(phi_2_2),2) + 0.178043137177306*std::sin(phi_2_2)*std::cos(phi_2_1)), k_f*std::pow(pwm_2,2)*(0.178043137177306*std::sin(phi_2_1)*std::cos(phi_2_2) + 0.1313989*std::sin(phi_2_2)*std::cos(phi_2_1) + 0.0134804982329429*std::cos(phi_2_2)), k_f*std::pow(pwm_3,2)*(1.38777878078145e-17*std::pow(std::sin(phi_3_1),2)*std::pow(std::sin(phi_3_2),2) - 0.14984675*std::sin(phi_3_1)*std::cos(phi_3_2) - 0.1608535307164*std::sin(phi_3_1) - 6.93889390390723e-18*std::pow(std::sin(phi_3_2),2) - 0.21969827541113*std::sin(phi_3_2)*std::cos(phi_3_1)), k_f*std::pow(pwm_3,2)*(-0.0349257627055652*std::sin(phi_3_1 - phi_3_2) - 0.184772512705565*std::sin(phi_3_1 + phi_3_2) - 0.0134804982329429*std::cos(phi_3_2) + 2.16840434497101e-19*std::cos(2*phi_3_1 - phi_3_2) - 2.16840434497101e-19*std::cos(2*phi_3_1 + phi_3_2));
//         allocation_matrix.row(4) << k_f*pwm_1*(0.459272218341693*std::sin(phi_1_1)*std::sin(phi_1_2) - 0.0311318771343994*std::sin(phi_1_2) - 0.3247545*std::cos(phi_1_1)*std::cos(phi_1_2) - 0.3247545*std::cos(phi_1_1)), k_f*pwm_2*(-0.616407330284824*std::sin(phi_2_1)*std::sin(phi_2_2) + 0.0155659385671997*std::sin(phi_2_2) + 0.454930106646069*std::cos(phi_2_1)*std::cos(phi_2_2) + 0.416801499788921*std::cos(phi_2_1)), k_f*pwm_3*(0.156793013682392*std::sin(phi_3_1)*std::sin(phi_3_2) + 0.0155659385671997*std::sin(phi_3_2) - 0.129933706646069*std::cos(phi_3_1)*std::cos(phi_3_2) - 0.0918050997889205*std::cos(phi_3_1)), k_f*std::pow(pwm_1,2)*(0.16237725*std::sin(phi_1_1)*std::cos(phi_1_2) + 0.16237725*std::sin(phi_1_1) + 0.229636109170847*std::sin(phi_1_2)*std::cos(phi_1_1)), k_f*std::pow(pwm_1,2)*(0.229636109170847*std::sin(phi_1_1)*std::cos(phi_1_2) + 0.16237725*std::sin(phi_1_2)*std::cos(phi_1_1) - 0.0155659385671997*std::cos(phi_1_2)), -k_f*std::pow(pwm_2,2)*(0.227465053323035*std::sin(phi_2_1)*std::cos(phi_2_2) + 0.20840074989446*std::sin(phi_2_1) + 0.308203665142412*std::sin(phi_2_2)*std::cos(phi_2_1)), k_f*std::pow(pwm_2,2)*(-0.308203665142412*std::sin(phi_2_1)*std::cos(phi_2_2) - 0.227465053323035*std::sin(phi_2_2)*std::cos(phi_2_1) + 0.00778296928359986*std::cos(phi_2_2)), k_f*std::pow(pwm_3,2)*(0.0649668533230346*std::sin(phi_3_1)*std::cos(phi_3_2) + 0.0459025498944602*std::sin(phi_3_1) + 0.0783965068411962*std::sin(phi_3_2)*std::cos(phi_3_1)), k_f*std::pow(pwm_3,2)*(0.0783965068411962*std::sin(phi_3_1)*std::cos(phi_3_2) + 0.0649668533230346*std::sin(phi_3_2)*std::cos(phi_3_1) + 0.00778296928359986*std::cos(phi_3_2)); 
//         allocation_matrix.row(5) << k_f*pwm_1*(-0.0368956*std::sin(phi_1_1)*std::cos(phi_1_2) - 0.0809227228656005*std::sin(phi_1_1) - 0.0833101350462922*std::sin(phi_1_2)*std::cos(phi_1_1) - 0.3247545*std::cos(phi_1_2) + 0.3247545), k_f*pwm_2*(0.52537992930186*std::sin(phi_2_1)*std::cos(phi_2_2) + 0.481352806436259*std::sin(phi_2_1) + 6.93889390390723e-18*std::pow(std::sin(phi_2_2),2)*std::pow(std::cos(phi_2_1),2) + 0.711867544282909*std::sin(phi_2_2)*std::cos(phi_2_1) - 1.73472347597681e-18*std::sin(phi_2_1 - 2*phi_2_2) + 1.73472347597681e-18*std::sin(phi_2_1 + 2*phi_2_2) + 0.000124517535627505*std::cos(phi_2_2) - 0.000124517535627477), k_f*pwm_3*(-0.037320859236629*std::sin(phi_3_1)*std::cos(phi_3_2) - 0.0813479821022296*std::sin(phi_3_1) - 6.93889390390723e-18*std::pow(std::sin(phi_3_2),2)*std::pow(std::cos(phi_3_1),2) - 0.0839115424262574*std::sin(phi_3_2)*std::cos(phi_3_1) - 1.73472347597681e-18*std::sin(phi_3_1 - 2*phi_3_2) + 1.73472347597681e-18*std::sin(phi_3_1 + 2*phi_3_2) + 0.324509037672106*std::cos(phi_3_2) - 0.324509037672106), k_f*std::pow(pwm_1,2)*(0.0416550675231461*std::sin(phi_1_1)*std::sin(phi_1_2) - 0.0184478*std::cos(phi_1_1)*std::cos(phi_1_2) - 0.0404613614328003*std::cos(phi_1_1)), k_f*std::pow(pwm_1,2)*(0.0184478*std::sin(phi_1_1)*std::sin(phi_1_2) + 0.16237725*std::sin(phi_1_2) - 0.0416550675231461*std::cos(phi_1_1)*std::cos(phi_1_2)), k_f*std::pow(pwm_2,2)*(-1.73472347597681e-18*std::sin(2*phi_2_1) - 4.33680868994202e-19*std::sin(phi_2_2) + 8.67361737988404e-19*std::sin(2*phi_2_1 - 2*phi_2_2) - 6.50521303491303e-19*std::sin(2*phi_2_1 - phi_2_2) + 6.50521303491303e-19*std::sin(2*phi_2_1 + phi_2_2) + 8.67361737988404e-19*std::sin(2*phi_2_1 + 2*phi_2_2) + 0.24067640321813*std::cos(phi_2_1) - 8.67361737988404e-19*std::cos(phi_2_1 - 2*phi_2_2) - 0.0466219037452622*std::cos(phi_2_1 - phi_2_2) + 0.309311868396192*std::cos(phi_2_1 + phi_2_2) + 8.67361737988404e-19*std::cos(phi_2_1 + 2*phi_2_2)), k_f*std::pow(pwm_2,2)*(-6.22587678137526e-5*std::sin(phi_2_2) + 1.73472347597681e-18*std::sin(2*phi_2_2) - 8.67361737988404e-19*std::sin(2*phi_2_1 - 2*phi_2_2) + 8.67361737988404e-19*std::sin(2*phi_2_1 + 2*phi_2_2) + 1.73472347597681e-18*std::cos(phi_2_1 - 2*phi_2_2) + 0.0466219037452622*std::cos(phi_2_1 - phi_2_2) + 0.309311868396192*std::cos(phi_2_1 + phi_2_2) + 1.73472347597681e-18*std::cos(phi_2_1 + 2*phi_2_2)), k_f*std::pow(pwm_3,2)*(1.73472347597681e-18*std::sin(2*phi_3_1) + 4.33680868994202e-19*std::sin(phi_3_2) - 8.67361737988404e-19*std::sin(2*phi_3_1 - 2*phi_3_2) - 6.50521303491303e-19*std::sin(2*phi_3_1 - phi_3_2) + 6.50521303491303e-19*std::sin(2*phi_3_1 + phi_3_2) - 8.67361737988404e-19*std::sin(2*phi_3_1 + 2*phi_3_2) - 0.0406739910511148*std::cos(phi_3_1) - 8.67361737988404e-19*std::cos(phi_3_1 - 2*phi_3_2) + 0.0116476707974071*std::cos(phi_3_1 - phi_3_2) - 0.0303081004157216*std::cos(phi_3_1 + phi_3_2) + 8.67361737988404e-19*std::cos(phi_3_1 + 2*phi_3_2)), k_f*std::pow(pwm_3,2)*(-0.162254518836053*std::sin(phi_3_2) - 1.73472347597681e-18*std::sin(2*phi_3_2) + 8.67361737988404e-19*std::sin(2*phi_3_1 - 2*phi_3_2) - 8.67361737988404e-19*std::sin(2*phi_3_1 + 2*phi_3_2) + 1.73472347597681e-18*std::cos(phi_3_1 - 2*phi_3_2) - 0.0116476707974071*std::cos(phi_3_1 - phi_3_2) - 0.0303081004157216*std::cos(phi_3_1 + phi_3_2) + 1.73472347597681e-18*std::cos(phi_3_1 + 2*phi_3_2));